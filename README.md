# Лабораторная работа №3 по функциональному программированию (Gleam)

**Выполнил:** Подворный Артём Михайлович, группа P3313

---

## Описание задачи

Реализована консольная утилита на языке **Gleam** для потоковой интерполяции табличной функции.  
Программа читает точки из стандартного ввода и по мере поступления данных вычисляет значения интерполяции с заданным шагом, выводя результат в стандартный вывод.

Поддерживаются два метода интерполяции:

- **Линейная интерполяция** - прямая между двумя соседними точками.
- **Интерполяция Ньютона** - полиномиальная интерполяция по последним n точкам (многочлен Ньютона с разделёнными разностями).

---

## Запуск

### Линейная интерполяция

```bash
gleam run -- linear step 0.7
```

### Интерполяция Ньютона (окно из 4 точек)

```bash
gleam run -- newton n 4 step 0.5
```

**Параметры:**

- `linear` - использовать линейную интерполяцию.
- `newton n <число>` - использовать интерполяцию Ньютона по `n` последним точкам (`n >= 2`).
- `step <число>` - шаг по оси X, с которым вычисляются новые точки (`step > 0`).

---

## Формат данных

### Ввод

Из stdin, построчно:

```text
> x y
> x y
...
> exit
```

- `x` и `y` - числа (целые или с плавающей точкой).
- Завершение ввода интерактивно - строкой `exit`;

### Вывод

Каждая вычисленная точка выводится строкой:

```text
> <название метода>: x y
```

---

## Потоковый режим

Программа использует **скользящее окно** точек:

- для линейной интерполяции - весь накопленный набор точек;
- для Ньютона - только последние `n` точек.

Стратегия работы:

- **Первое окно**  
  Как только точек достаточно для выбранного метода, выводятся все доступные интерполированные значения в диапазоне текущего окна.

- **Промежуточные окна**  
  При добавлении каждой новой точки вычисляется и выводится одна новая точка (если можно вычислить).  
  Для линейной интерполяции это новая точка по X, отстоящая от последней выведенной на `step`.  
  Для Ньютона используется актуальное окно из `n` последних точек.

- **Последнее окно (`exit`)**  
  При завершении ввода выводятся все оставшиеся точки, которые ещё можно корректно интерполировать до конца диапазона по X.

---

## Структура проекта

```text
lab3/
├── src/
│   ├── lab3.gleam              # main
│   └── lab3/
│       ├── types.gleam         # общие типы данных
│       ├── config.gleam        # парсинг аргументов командной строки, форматирование чисел
│       ├── input.gleam         # чтение точек из stdin, разбор x и y
│       ├── interpolator.gleam  # актор, скользящее окно
│       ├── output.gleam        # вывод результатов
│       ├── linear.gleam        # линейная интерполяция
│       └── newton.gleam        # интерполяция Ньютона
```

---

## Выводы

Поработал с акторной моделью.
